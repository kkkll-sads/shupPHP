import{B as C,a as B,l as M,o as V,_ as Y,Z as I,C as m,H as s,P as c,N as L,a1 as p,Y as E,I as r,D as d,O as T,$ as v,X as l,u,G as o,U as j,a2 as F}from"./vue-_nkvHh4F.js";import{v as R,_ as G}from"./index-DNBbsmjl.js";import{H as O,F as P}from"./footer-CkaODoBZ.js";import{c as S}from"./home-e7L03HLI.js";import"./darkSwitch-Cgtir3iY.js";import"./router-D4NHICnd.js";import"./useDark-DEYN0Aux.js";const U={class:"news-detail-page"},X={key:0,class:"detail-container"},Z={class:"detail-title"},$={class:"detail-meta"},q={key:0,class:"detail-cover"},z=["src"],A=["innerHTML"],J={class:"detail-actions"},K=C({__name:"detail",setup(Q){const h=L(),g=E(),{t:a}=R.useI18n(),i=B({loading:!1,detail:null}),e=M(()=>i.detail),w=async()=>{const n=Number(h.params.id||0);if(!n){p.error(a("news.Not found")),_();return}i.loading=!0;try{const{data:t}=await S(n);t.code===1?i.detail=t.data.detail:p.error(t.msg||a("news.Not found"))}catch(t){p.error((t==null?void 0:t.message)||a("news.Not found"))}finally{i.loading=!1}},y=n=>n?F.unix(n).format("YYYY-MM-DD HH:mm"):"",_=()=>{g.push({name:"newsList"})};return V(()=>{w()}),(n,t)=>{const f=r("el-breadcrumb-item"),N=r("el-breadcrumb"),k=r("el-button"),D=r("el-empty"),x=r("el-main"),H=I("loading");return Y((d(),m("div",U,[s(O),s(x,{class:"detail-main"},{default:c(()=>[s(N,{class:"breadcrumb",separator:"/"},{default:c(()=>[s(f,{onClick:_,class:"breadcrumb-link"},{default:c(()=>[v(l(u(a)("index.Hot News")),1)]),_:1}),s(f,null,{default:c(()=>{var b;return[v(l(((b=e.value)==null?void 0:b.title)||"--"),1)]}),_:1})]),_:1}),e.value?(d(),m("div",X,[o("h1",Z,l(e.value.title),1),o("div",$,[o("span",null,l(y(e.value.publish_time)),1),o("span",null,l(u(a)("news.View count",{count:e.value.view_count??0})),1)]),e.value.cover_image?(d(),m("div",q,[o("img",{src:e.value.cover_image,alt:""},null,8,z)])):j("",!0),o("div",{class:"detail-content",innerHTML:e.value.content||e.value.summary},null,8,A),o("div",J,[s(k,{type:"primary",onClick:_},{default:c(()=>[v(l(u(a)("news.Back to list")),1)]),_:1})])])):(d(),T(D,{key:1,description:u(a)("No data")},null,8,["description"]))]),_:1}),s(P)])),[[H,i.loading]])}}}),le=G(K,[["__scopeId","data-v-abb487c9"]]);export{le as default};
