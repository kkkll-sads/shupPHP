import{B as R,aa as S,am as T,a as U,I as s,Z as d,O as u,D as m,P as l,_ as g,G as p,F as V,u as o,a0 as W,U as h,a9 as q,H as r,$ as n,X as w,C as A}from"./vue-DnSQgQf0.js";import{b as x}from"./validate-B0Iw1M_R.js";import{e as K,_ as P}from"./index-BR6nH71S.js";const j={class:"title"},G=R({__name:"popupForm",setup(H){const c=K(),f=S("formRef"),t=T("baTable"),k=U({mobile:[x({name:"required",title:"手机号"}),{validator:(b,e,i)=>e?/^1[3-9]\d{9}$/.test(e)?i():i(new Error("手机号格式不正确，请输入11位手机号，1开头，第二位为3-9")):i(new Error("请输入手机号")),trigger:"blur"}],status:[x({name:"required",title:"状态"})]}),C=b=>{const e=b.replace(/\D/g,"");t.form.items&&(t.form.items.mobile=e)};return(b,e)=>{const i=s("el-input"),_=s("el-form-item"),v=s("el-radio"),D=s("el-radio-group"),I=s("el-form"),B=s("el-scrollbar"),y=s("el-button"),F=s("el-dialog"),$=d("drag"),z=d("zoom"),E=d("loading"),N=d("blur");return m(),u(F,{class:"ba-operate-dialog","close-on-click-modal":!1,"destroy-on-close":!0,"model-value":["Add","Edit"].includes(o(t).form.operate),onClose:o(t).toggleForm},{header:l(()=>[g((m(),A("div",j,[n(w(o(t).form.operate==="Add"?"添加":"编辑"),1)])),[[$,[".ba-operate-dialog",".el-dialog__header"]],[z,".ba-operate-dialog"]])]),footer:l(()=>[p("div",{style:V("width: calc(100% - "+o(t).form.labelWidth/1.8+"px)")},[r(y,{onClick:e[4]||(e[4]=a=>o(t).toggleForm(""))},{default:l(()=>e[10]||(e[10]=[n("取消")])),_:1}),g((m(),u(y,{loading:o(t).form.submitLoading,onClick:e[5]||(e[5]=a=>o(t).onSubmit(o(f))),type:"primary"},{default:l(()=>[n(w(o(t).form.operateIds&&o(t).form.operateIds.length>1?"保存并编辑下一条":"保存"),1)]),_:1},8,["loading"])),[[N]])],4)]),default:l(()=>[g((m(),u(B,{class:"ba-table-form-scrollbar"},{default:l(()=>[p("div",{class:W(["ba-operate-form","ba-"+o(t).form.operate+"-form"]),style:V(o(c).layout.shrink?"":"width: calc(100% - "+o(t).form.labelWidth/2+"px)")},[o(t).form.loading?h("",!0):(m(),u(I,{key:0,ref_key:"formRef",ref:f,onKeyup:e[3]||(e[3]=q(a=>o(t).onSubmit(o(f)),["enter"])),model:o(t).form.items,"label-position":o(c).layout.shrink?"top":"right","label-width":o(t).form.labelWidth+"px",rules:k},{default:l(()=>[r(_,{prop:"mobile",label:"手机号"},{default:l(()=>[r(i,{modelValue:o(t).form.items.mobile,"onUpdate:modelValue":e[0]||(e[0]=a=>o(t).form.items.mobile=a),type:"text",maxlength:"11",placeholder:"请输入11位手机号",onInput:C},null,8,["modelValue"]),e[6]||(e[6]=p("div",{class:"form-tip"},"请输入11位手机号，格式：1开头，第二位为3-9",-1))]),_:1}),r(_,{prop:"status",label:"状态"},{default:l(()=>[r(D,{modelValue:o(t).form.items.status,"onUpdate:modelValue":e[1]||(e[1]=a=>o(t).form.items.status=a)},{default:l(()=>[r(v,{label:1,border:""},{default:l(()=>e[7]||(e[7]=[n("启用")])),_:1}),r(v,{label:0,border:""},{default:l(()=>e[8]||(e[8]=[n("禁用")])),_:1})]),_:1},8,["modelValue"]),e[9]||(e[9]=p("div",{class:"form-tip"},"禁用状态的手机号将无法注册",-1))]),_:1}),r(_,{prop:"remark",label:"备注"},{default:l(()=>[r(i,{modelValue:o(t).form.items.remark,"onUpdate:modelValue":e[2]||(e[2]=a=>o(t).form.items.remark=a),type:"textarea",rows:3,placeholder:"请输入备注信息（可选）",maxlength:"255","show-word-limit":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","label-position","label-width","rules"]))],6)]),_:1})),[[E,o(t).form.loading]])]),_:1},8,["model-value","onClose"])}}}),X=P(G,[["__scopeId","data-v-40200a38"]]);export{X as default};
