import{b as u,d as s}from"./baTable-57jWdOQZ.js";import{_ as m}from"./popupForm.vue_vue_type_script_setup_true_lang-CFy-aFY0.js";import{T as p,a as d}from"./index-DONpsK3B.js";import{v as _,a5 as b}from"./index-DRv2sWQF.js";import{B as h,I as g,C as f,D as i,O as N,U as E,H as l,u as o,at as y}from"./vue-BMJJ5Kg4.js";import"./index-Dy1MJO1N.js";import"./index-CqVz8jMs.js";const v={class:"default-main ba-table-box"},S=h({name:"finance/product",__name:"index",setup(T){const{t}=_.useI18n(),r=new u(new b("/admin/finance.Product/"),{column:[{type:"selection",align:"center",operator:!1},{label:t("Id"),prop:"id",align:"center",operator:"=",operatorPlaceholder:t("Id"),width:70},{label:t("finance.product.Name"),prop:"name",align:"center",operator:"LIKE",operatorPlaceholder:t("Fuzzy query")},{label:t("finance.product.Thumbnail"),prop:"thumbnail",align:"center",render:"image",operator:!1,width:120},{label:t("finance.product.Price"),prop:"price",align:"center",operator:"BETWEEN",width:110,render:e=>{const a=Number(e.price);return isNaN(a)?e.price:a.toFixed(2)}},{label:"收益周期",prop:"cycle_days",align:"center",operator:!1,width:110,render:e=>{if(e.cycle_value&&e.cycle_value>0){const a={day:"天",month:"月",year:"年"};return e.cycle_value+(a[e.cycle_type]||"天")}return(e.cycle_days||0)+"天"}},{label:"收益模式",prop:"income_mode",align:"center",operator:"FIND_IN_SET",width:110,render:"tag",custom:{daily:"success",period:"primary",stage:"warning"},replaceValue:{daily:"每日返息",period:"周期返息",stage:"阶段返息"},size:"small",options:[{label:"每日返息",value:"daily"},{label:"周期返息",value:"period"},{label:"阶段返息",value:"stage"}]},{label:t("finance.product.Yield Rate"),prop:"yield_rate",align:"center",operator:"BETWEEN",width:100,render:e=>`${e.yield_rate}%`},{label:t("finance.product.Total Amount"),prop:"total_amount",align:"center",operator:"BETWEEN",width:120,render:e=>Number(e.total_amount||0).toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:t("finance.product.Sold Amount"),prop:"sold_amount",align:"center",operator:"BETWEEN",width:120,show:!1,render:e=>Number(e.sold_amount||0).toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:"项目进度",prop:"progress",align:"center",operator:"BETWEEN",width:110,render:e=>{let a=Number(e.progress||0);if(a===0&&e.total_amount&&Number(e.total_amount)>0){const n=Number(e.sold_amount||0),c=Number(e.total_amount);a=n/c*100}return a.toFixed(2)+"%"}},{label:t("finance.product.Remaining Amount"),prop:"remaining_amount",align:"center",operator:!1,width:130,show:!1,render:e=>{if(!e.total_amount)return"--";const a=Number(e.total_amount)-Number(e.sold_amount||0);return(a>0?a:0).toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2})}},{label:t("finance.product.Min Purchase"),prop:"min_purchase",align:"center",operator:"BETWEEN",width:120,show:!1,render:e=>Number(e.min_purchase||0).toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2})},{label:t("finance.product.Max Purchase"),prop:"max_purchase",align:"center",operator:"BETWEEN",width:120,show:!1,render:e=>{const a=Number(e.max_purchase||0);return a===0?"不限":a.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2})}},{label:"每人限购",prop:"per_user_limit",align:"center",operator:"BETWEEN",width:100,render:e=>{const a=Number(e.per_user_limit||0);return a>0?a+"份":"不限"}},{label:t("finance.product.Status"),prop:"status",align:"center",render:"switch",options:[{label:t("Enable"),value:"1"},{label:t("Disable"),value:"0"}],operator:"select",operatorOptions:[{label:t("Enable"),value:"1"},{label:t("Disable"),value:"0"}],width:90},{label:t("finance.product.Sort"),prop:"sort",align:"center",operator:"BETWEEN",width:90},{label:t("Create time"),prop:"create_time",align:"center",render:"datetime",sortable:"custom",operator:"RANGE",width:160},{label:t("Operate"),align:"center",width:140,render:"buttons",buttons:s(["edit","delete"]),operator:!1}],dblClickNotEditColumn:[void 0]},{defaultItems:{status:"1",sort:0,min_purchase:1,max_purchase:0,per_user_limit:0,total_amount:0,sold_amount:0,progress:0,cycle_type:"day",cycle_value:0,income_mode:"period",income_value_type:"percent",daily_income_value:0,period_days:30,period_income_value:0,stage_income_config:null,return_principal:1,compound_interest:0,gift_rule:null}});return r.auth=()=>!0,r.mount(),r.getData(),y("baTable",r),(e,a)=>{const n=g("el-alert");return i(),f("div",v,[o(r).table.remark?(i(),N(n,{key:0,class:"ba-table-alert",title:o(r).table.remark,type:"info","show-icon":""},null,8,["title"])):E("",!0),l(p,{buttons:["refresh","add","edit","delete","comSearch","quickSearch","columnDisplay"],"quick-search-placeholder":o(t)("Quick search placeholder",{fields:o(t)("finance.product.Name")+"/"+o(t)("Id")})},null,8,["quick-search-placeholder"]),l(d),l(m)])}}});export{S as default};
