import{v as V,_ as w}from"./index-DRv2sWQF.js";import{H as x,F as z}from"./footer-B_ZvsPqj.js";import{d as S}from"./home-TooA8O2A.js";import{B as b,a as B,o as D,_ as H,Z as I,C as n,H as l,P as _,a1 as p,I as c,D as s,G as o,U as L,X as r,u as v,V as E,W as F,O as N}from"./vue-BMJJ5Kg4.js";import"./darkSwitch-8HIShcA_.js";import"./router-DsWceAx2.js";import"./useDark-BRh1SS-i.js";const M={class:"video-page"},P={class:"video-header"},j=["onClick"],G={class:"video-thumb"},O=["src"],U={key:1,class:"video-placeholder"},W={class:"video-info"},X=["title"],Z={class:"video-desc"},$={key:0,class:"pagination"},q=b({__name:"list",setup(A){const{t:i}=V.useI18n(),e=B({loading:!1,list:[],total:0,page:1,pageSize:6}),g=async()=>{e.loading=!0;try{const{data:t}=await S({page:e.page,limit:e.pageSize});t.code===1?(e.list=t.data.list||[],e.total=t.data.total||0):p.error(t.msg||i("Load failed"))}catch(t){p.error((t==null?void 0:t.message)||i("Load failed"))}finally{e.loading=!1}},m=t=>{e.page=t,g()},u=t=>{if(!t){p.warning(i("video.Video missing"));return}window.open(t,"_blank")};return D(()=>{g()}),(t,d)=>{const f=c("el-col"),h=c("el-row"),k=c("el-pagination"),y=c("el-main"),C=I("loading");return H((s(),n("div",M,[l(x),l(y,{class:"video-main"},{default:_(()=>[o("div",P,[o("h1",null,r(v(i)("index.Hot Videos")),1),o("p",null,r(v(i)("video.Subtitle")),1)]),l(h,{gutter:24},{default:_(()=>[(s(!0),n(E,null,F(e.list,a=>(s(),N(f,{key:a.id,xs:24,md:12},{default:_(()=>[o("div",{class:"video-item",onClick:J=>u(a.media_url)},[o("div",G,[a.cover_image?(s(),n("img",{key:0,src:a.cover_image,alt:""},null,8,O)):(s(),n("div",U,d[0]||(d[0]=[o("i",{class:"fa fa-video-camera"},null,-1)]))),d[1]||(d[1]=o("div",{class:"video-play"},[o("i",{class:"fa fa-play"})],-1))]),o("div",W,[o("h3",{class:"video-title",title:a.title},r(a.title),9,X),o("p",Z,r(a.description),1)])],8,j)]),_:2},1024))),128))]),_:1}),e.total>e.pageSize?(s(),n("div",$,[l(k,{background:"",layout:"prev, pager, next",total:e.total,"page-size":e.pageSize,"current-page":e.page,onCurrentChange:m},null,8,["total","page-size","current-page"])])):L("",!0)]),_:1}),l(z)])),[[C,e.loading]])}}}),oe=w(q,[["__scopeId","data-v-f098e18b"]]);export{oe as default};
