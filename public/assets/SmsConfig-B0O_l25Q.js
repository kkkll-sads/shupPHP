import{B as L,b as c,a as D,I as m,Z as M,C as N,D as w,H as e,P as l,_ as U,O as W,G as i,$ as r,X as H,u as T,aK as z}from"./vue-BMJJ5Kg4.js";import{c as _,_ as X}from"./index-BHof7fb5.js";const Z={class:"sms-config"},$={class:"card-header"},j={class:"card-actions"},F={class:"form-tip"},J={class:"card-header"},Q={class:"card-actions"},R={class:"card-header"},Y={class:"card-actions"},aa=L({__name:"SmsConfig",setup(ea){const g=c(!1),V=c(!1),f=D({platform:"smsbao"}),C=c(!1),b=c(!1),n=D({name:"",username:"",api_key:"",api_url:"",query_url:""}),v=c(!1),y=c(!1),s=D({name:"",account:"",password:"",api_url:""}),S=()=>{g.value=!0,_({url:"/admin/content.DrawCountConfig/smsPlatformConfig",method:"GET"}).then(o=>{o.data.code===1&&o.data.data&&(f.platform=o.data.data.platform??"smsbao")}).finally(()=>{g.value=!1})},G=()=>{V.value=!0,_({url:"/admin/content.DrawCountConfig/smsPlatformConfig",method:"POST",data:f},{showSuccessMessage:!0}).then(()=>{S()}).finally(()=>{V.value=!1})},k=()=>{C.value=!0,_({url:"/admin/content.DrawCountConfig/smsBaoConfig",method:"GET"}).then(o=>{o.data.code===1&&o.data.data&&(n.name=o.data.data.name??"",n.username=o.data.data.username??"",n.api_key=o.data.data.api_key??"",n.api_url=o.data.data.api_url??"",n.query_url=o.data.data.query_url??"")}).finally(()=>{C.value=!1})},I=()=>{b.value=!0,_({url:"/admin/content.DrawCountConfig/smsBaoConfig",method:"POST",data:n},{showSuccessMessage:!0}).then(()=>{k()}).finally(()=>{b.value=!1})},h=()=>{v.value=!0,_({url:"/admin/content.DrawCountConfig/weiWebsSmsConfig",method:"GET"}).then(o=>{o.data.code===1&&o.data.data&&(s.name=o.data.data.name??"",s.account=o.data.data.account??"",s.password=o.data.data.password??"",s.api_url=o.data.data.api_url??"")}).finally(()=>{v.value=!1})},O=()=>{y.value=!0,_({url:"/admin/content.DrawCountConfig/weiWebsSmsConfig",method:"POST",data:s},{showSuccessMessage:!0}).then(()=>{h()}).finally(()=>{y.value=!1})};return S(),k(),h(),(o,a)=>{const p=m("el-button"),q=m("el-radio"),A=m("el-radio-group"),d=m("el-form-item"),P=m("el-form"),x=m("el-card"),u=m("el-input"),E=m("el-col"),K=m("el-row"),B=M("loading");return w(),N("div",Z,[e(x,{class:"config-card",shadow:"hover",style:{"margin-bottom":"20px"}},{header:l(()=>[i("div",$,[a[12]||(a[12]=i("span",{class:"card-title"},"短信平台选择",-1)),i("div",j,[e(p,{size:"small",onClick:S,loading:g.value,icon:T(z)},{default:l(()=>a[10]||(a[10]=[r("刷新")])),_:1},8,["loading","icon"]),e(p,{size:"small",type:"primary",onClick:G,loading:V.value},{default:l(()=>a[11]||(a[11]=[r("保存")])),_:1},8,["loading"])])])]),default:l(()=>[U((w(),W(P,{model:f,"label-width":"160px"},{default:l(()=>[e(d,{label:"选择短信平台"},{default:l(()=>[e(A,{modelValue:f.platform,"onUpdate:modelValue":a[0]||(a[0]=t=>f.platform=t)},{default:l(()=>[e(q,{label:"smsbao"},{default:l(()=>a[13]||(a[13]=[r("短信宝")])),_:1}),e(q,{label:"weiwebs"},{default:l(()=>a[14]||(a[14]=[r("麦讯通")])),_:1})]),_:1},8,["modelValue"]),i("span",F,"当前选择的短信平台："+H(f.platform==="smsbao"?"短信宝":"麦讯通"),1)]),_:1})]),_:1},8,["model"])),[[B,g.value]])]),_:1}),e(K,{gutter:20},{default:l(()=>[e(E,{xs:24,lg:12},{default:l(()=>[e(x,{class:"config-card",shadow:"hover"},{header:l(()=>[i("div",J,[a[17]||(a[17]=i("span",{class:"card-title"},"短信宝配置",-1)),i("div",Q,[e(p,{size:"small",onClick:k,loading:C.value,icon:T(z)},{default:l(()=>a[15]||(a[15]=[r("刷新")])),_:1},8,["loading","icon"]),e(p,{size:"small",type:"primary",onClick:I,loading:b.value},{default:l(()=>a[16]||(a[16]=[r("保存")])),_:1},8,["loading"])])])]),default:l(()=>[U((w(),W(P,{model:n,"label-width":"160px"},{default:l(()=>[e(d,{label:"名称"},{default:l(()=>[e(u,{modelValue:n.name,"onUpdate:modelValue":a[1]||(a[1]=t=>n.name=t),placeholder:"短信宝名称"},null,8,["modelValue"])]),_:1}),e(d,{label:"username"},{default:l(()=>[e(u,{modelValue:n.username,"onUpdate:modelValue":a[2]||(a[2]=t=>n.username=t),placeholder:"请输入username"},null,8,["modelValue"])]),_:1}),e(d,{label:"API Key"},{default:l(()=>[e(u,{modelValue:n.api_key,"onUpdate:modelValue":a[3]||(a[3]=t=>n.api_key=t),placeholder:"请输入API Key"},null,8,["modelValue"])]),_:1}),e(d,{label:"发送接口地址"},{default:l(()=>[e(u,{modelValue:n.api_url,"onUpdate:modelValue":a[4]||(a[4]=t=>n.api_url=t),placeholder:"请输入发送短信接口地址"},null,8,["modelValue"])]),_:1}),e(d,{label:"查询接口地址"},{default:l(()=>[e(u,{modelValue:n.query_url,"onUpdate:modelValue":a[5]||(a[5]=t=>n.query_url=t),placeholder:"请输入查询余额接口地址"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])),[[B,C.value]])]),_:1})]),_:1}),e(E,{xs:24,lg:12},{default:l(()=>[e(x,{class:"config-card",shadow:"hover"},{header:l(()=>[i("div",R,[a[20]||(a[20]=i("span",{class:"card-title"},"麦讯通短信配置",-1)),i("div",Y,[e(p,{size:"small",onClick:h,loading:v.value,icon:T(z)},{default:l(()=>a[18]||(a[18]=[r("刷新")])),_:1},8,["loading","icon"]),e(p,{size:"small",type:"primary",onClick:O,loading:y.value},{default:l(()=>a[19]||(a[19]=[r("保存")])),_:1},8,["loading"])])])]),default:l(()=>[U((w(),W(P,{model:s,"label-width":"160px"},{default:l(()=>[e(d,{label:"名称"},{default:l(()=>[e(u,{modelValue:s.name,"onUpdate:modelValue":a[6]||(a[6]=t=>s.name=t),placeholder:"微网短信名称"},null,8,["modelValue"])]),_:1}),e(d,{label:"account"},{default:l(()=>[e(u,{modelValue:s.account,"onUpdate:modelValue":a[7]||(a[7]=t=>s.account=t),placeholder:"请输入用户账号"},null,8,["modelValue"])]),_:1}),e(d,{label:"password"},{default:l(()=>[e(u,{modelValue:s.password,"onUpdate:modelValue":a[8]||(a[8]=t=>s.password=t),type:"password",placeholder:"请输入用户密码","show-password":""},null,8,["modelValue"])]),_:1}),e(d,{label:"接口地址"},{default:l(()=>[e(u,{modelValue:s.api_url,"onUpdate:modelValue":a[9]||(a[9]=t=>s.api_url=t),placeholder:"请输入接口地址"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])),[[B,v.value]])]),_:1})]),_:1})]),_:1})])}}}),ta=X(aa,[["__scopeId","data-v-aaaebf74"]]);export{ta as default};
