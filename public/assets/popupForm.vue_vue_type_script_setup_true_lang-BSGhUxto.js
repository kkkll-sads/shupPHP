import{B as z,am as I,b as N,I as n,Z as _,O as c,D as i,P as t,_ as w,G as h,F as E,u as e,a0 as T,U as $,a9 as j,H as a,$ as b,X as g,C as K}from"./vue-BMJJ5Kg4.js";import{F as R}from"./index-Dy1MJO1N.js";import{v as W,e as A}from"./index-DRv2sWQF.js";import{b as m}from"./validate-CzjpH8Rv.js";const G={class:"title"},H={class:"dialog-footer"},M=z({__name:"popupForm",setup(O){const o=I("baTable"),{t:s}=W.useI18n(),v=A(),d=N(),x={platform:[m({name:"required",title:"平台"})],app_name:[m({name:"required",title:"软件名称"})],version_code:[m({name:"required",title:"版本号"})],download_url:[m({name:"required",title:"下载链接"}),m({name:"url",title:"下载链接"})]};return(P,l)=>{const p=n("el-input"),u=n("el-form-item"),F=n("el-form"),B=n("el-scrollbar"),V=n("el-button"),D=n("el-dialog"),S=_("drag"),U=_("zoom"),q=_("loading");return i(),c(D,{class:"ba-operate-dialog","close-on-click-modal":!1,"destroy-on-close":!0,"model-value":["Add","Edit"].includes(e(o).form.operate),onClose:e(o).toggleForm},{header:t(()=>[w((i(),K("div",G,[b(g(e(o).form.operate?e(s)(String(e(o).form.operate)):""),1)])),[[S,[".ba-operate-dialog",".el-dialog__header"]],[U,".ba-operate-dialog"]])]),footer:t(()=>[h("div",H,[a(V,{onClick:e(o).toggleForm},{default:t(()=>[b(g(e(s)("Cancel")),1)]),_:1},8,["onClick"]),a(V,{type:"primary",onClick:l[5]||(l[5]=f=>e(o).onSubmit(d.value))},{default:t(()=>[b(g(e(s)("Confirm")),1)]),_:1})])]),default:t(()=>[w((i(),c(B,{class:"ba-table-form-scrollbar"},{default:t(()=>{var f,y,C,k;return[h("div",{class:T(["ba-operate-form","ba-"+e(o).form.operate+"-form"]),style:E((y=(f=e(v))==null?void 0:f.layout)!=null&&y.shrink?"":"width: calc(100% - "+(e(o).form.labelWidth||160)/2+"px)")},[e(o).form.loading?$("",!0):(i(),c(F,{key:0,ref_key:"formRef",ref:d,onKeyup:l[4]||(l[4]=j(r=>e(o).onSubmit(d.value),["enter"])),model:e(o).form.items,"label-position":(k=(C=e(v))==null?void 0:C.layout)!=null&&k.shrink?"top":"right","label-width":(e(o).form.labelWidth||160)+"px",rules:x},{default:t(()=>[a(R,{label:"平台",modelValue:e(o).form.items.platform,"onUpdate:modelValue":l[0]||(l[0]=r=>e(o).form.items.platform=r),type:"radio",prop:"platform","input-attr":{border:!0,content:{android:"安卓",ios:"苹果"}}},null,8,["modelValue"]),a(u,{prop:"app_name",label:"软件名称"},{default:t(()=>[a(p,{modelValue:e(o).form.items.app_name,"onUpdate:modelValue":l[1]||(l[1]=r=>e(o).form.items.app_name=r),type:"string",placeholder:"请输入软件名称"},null,8,["modelValue"])]),_:1}),a(u,{prop:"version_code",label:"版本号"},{default:t(()=>[a(p,{modelValue:e(o).form.items.version_code,"onUpdate:modelValue":l[2]||(l[2]=r=>e(o).form.items.version_code=r),type:"string",placeholder:"请输入版本号，如：1.0.0"},null,8,["modelValue"])]),_:1}),a(u,{prop:"download_url",label:"下载链接"},{default:t(()=>[a(p,{modelValue:e(o).form.items.download_url,"onUpdate:modelValue":l[3]||(l[3]=r=>e(o).form.items.download_url=r),type:"string",placeholder:"请输入软件下载链接"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","label-position","label-width"]))],6)]}),_:1})),[[q,e(o).form.loading]])]),_:1},8,["model-value","onClose"])}}});export{M as _};
