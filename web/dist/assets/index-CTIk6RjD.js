import{c as f,_ as B}from"./index-DRv2sWQF.js";import{B as D,b as r,o as N,I as o,Z as A,C as u,D as n,_ as E,O as p,P as s,H as m,V as M,W as R,U,X as I,G as v,$ as L,a1 as _}from"./vue-BMJJ5Kg4.js";const S={class:"default-main"},F={class:"card-header"},G={key:0,class:"config-tip"},H=D({name:"content/activityRewardConfig",__name:"index",setup(O){const c=r(!1),i=r(!1),d=r([]),l=r({}),g=async()=>{c.value=!0;try{const e=await f({url:"/admin/content.ActivityRewardConfig/index",method:"get"});e.code===1&&(d.value=e.data.list||[],d.value.forEach(a=>{l.value[a.name]=a.value}))}catch(e){console.error(e)}finally{c.value=!1}},y=async()=>{i.value=!0;try{const e=await f({url:"/admin/content.ActivityRewardConfig/save",method:"post",data:{data:l.value}});e.code===1?_.success(e.msg||"保存成功"):_.error(e.msg||"保存失败")}catch(e){_.error(e.msg||"请求失败")}finally{i.value=!1}};return N(()=>{g()}),(e,a)=>{const h=o("el-button"),x=o("el-input-number"),C=o("el-form-item"),b=o("el-form"),w=o("el-card"),V=A("loading");return n(),u("div",S,[E((n(),p(w,null,{header:s(()=>[v("div",F,[a[1]||(a[1]=v("span",null,"活动奖励配置",-1)),m(h,{type:"primary",loading:i.value,onClick:y},{default:s(()=>a[0]||(a[0]=[L("保存配置")])),_:1},8,["loading"])])]),default:s(()=>[m(b,{"label-width":"200px"},{default:s(()=>[(n(!0),u(M,null,R(d.value,t=>(n(),p(C,{key:t.name,label:t.title},{default:s(()=>[m(x,{modelValue:l.value[t.name],"onUpdate:modelValue":k=>l.value[t.name]=k,modelModifiers:{number:!0},min:0,precision:2,style:{width:"200px"}},null,8,["modelValue","onUpdate:modelValue"]),t.tip?(n(),u("span",G,I(t.tip),1)):U("",!0)]),_:2},1032,["label"]))),128))]),_:1})]),_:1})),[[V,c.value]])])}}}),W=B(H,[["__scopeId","data-v-9d2fd9dd"]]);export{W as default};
