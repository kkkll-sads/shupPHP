import{B as k,b as c,a as B,I as m,Z as D,C as E,D as x,H as l,P as a,_ as N,O as T,G as o,u as z,aK as G,$ as V,a1 as I}from"./vue-BMJJ5Kg4.js";import{c as C,_ as M}from"./index-DRv2sWQF.js";const O={class:"agent-config"},P={class:"card-header"},S={class:"card-actions"},H=k({__name:"AgentConfig",setup(K){const _=c(!1),p=c(!1),t=B({direct_rate:.1,indirect_rate:.05,team_level1_rate:.09,team_level2_rate:.12,team_level3_rate:.15,team_level4_rate:.18,team_level5_rate:.21,same_level_rate:.1,service_fee_discount:1}),f=()=>{_.value=!0,C({url:"/admin/content.DrawCountConfig/agentCommissionConfig",method:"GET"}).then(n=>{t.direct_rate=n.data.direct_rate??.1,t.indirect_rate=n.data.indirect_rate??.05,t.team_level1_rate=n.data.team_level1_rate??.09,t.team_level2_rate=n.data.team_level2_rate??.12,t.team_level3_rate=n.data.team_level3_rate??.15,t.team_level4_rate=n.data.team_level4_rate??.18,t.team_level5_rate=n.data.team_level5_rate??.21,t.same_level_rate=n.data.same_level_rate??.1,t.service_fee_discount=n.data.service_fee_discount??1}).finally(()=>{_.value=!1})},w=()=>{if(t.team_level1_rate>t.team_level2_rate||t.team_level2_rate>t.team_level3_rate||t.team_level3_rate>t.team_level4_rate||t.team_level4_rate>t.team_level5_rate){I.warning("代理团队奖比例应该按等级递增（1级 < 2级 < 3级 < 4级 < 5级）");return}p.value=!0,C({url:"/admin/content.DrawCountConfig/agentCommissionConfig",method:"POST",data:t},{showSuccessMessage:!0}).then(()=>{f()}).finally(()=>{p.value=!1})};return f(),(n,e)=>{const v=m("el-button"),b=m("el-alert"),i=m("el-form-item"),u=m("el-divider"),r=m("el-input-number"),d=m("el-col"),g=m("el-row"),y=m("el-form"),U=m("el-card"),A=D("loading");return x(),E("div",O,[l(U,{class:"config-card",shadow:"hover"},{header:a(()=>[o("div",P,[e[11]||(e[11]=o("span",{class:"card-title"},"代理佣金配置",-1)),o("div",S,[l(v,{size:"small",onClick:f,loading:_.value,icon:z(G)},{default:a(()=>e[9]||(e[9]=[V("刷新")])),_:1},8,["loading","icon"]),l(v,{size:"small",type:"primary",onClick:w,loading:p.value},{default:a(()=>e[10]||(e[10]=[V("保存")])),_:1},8,["loading"])])])]),default:a(()=>[N((x(),T(y,{model:t,"label-width":"180px"},{default:a(()=>[l(i,{label:"配置说明"},{default:a(()=>[l(b,{type:"info",closable:!1,"show-icon":""},{default:a(()=>e[12]||(e[12]=[o("div",null,"佣金计算基数为卖家的利润（卖出价 - 买入价）",-1),o("div",{class:"alert-tip"},"1. 直推佣金：卖家的邀请人（直推）拿利润的指定比例",-1),o("div",{class:"alert-tip"},"2. 间推佣金：直推的邀请人（间推）拿利润的指定比例",-1),o("div",{class:"alert-tip"},"3. 代理团队奖（累计制+同级特殊处理）：正常按级差分配，同级代理拿固定比例",-1),o("div",{class:"alert-tip"},"4. 同级奖：如果上级和下级是同一等级的代理，上级只拿同级奖（不按级差计算）",-1),o("div",{class:"alert-tip"},"5. 代理服务费折扣：代理在上架寄售时，缴纳的3%服务费可以打折",-1)])),_:1})]),_:1}),l(u),l(g,{gutter:20},{default:a(()=>[l(d,{xs:24,sm:12},{default:a(()=>[l(i,{label:"直推佣金比例"},{default:a(()=>[l(r,{modelValue:t.direct_rate,"onUpdate:modelValue":e[0]||(e[0]=s=>t.direct_rate=s),min:0,max:1,step:.01,precision:2,"controls-position":"right",style:{width:"200px"}},null,8,["modelValue"]),e[13]||(e[13]=o("span",{class:"form-tip"},"例如：0.10 表示 10%",-1))]),_:1})]),_:1}),l(d,{xs:24,sm:12},{default:a(()=>[l(i,{label:"间推佣金比例"},{default:a(()=>[l(r,{modelValue:t.indirect_rate,"onUpdate:modelValue":e[1]||(e[1]=s=>t.indirect_rate=s),min:0,max:1,step:.01,precision:2,"controls-position":"right",style:{width:"200px"}},null,8,["modelValue"]),e[14]||(e[14]=o("span",{class:"form-tip"},"例如：0.05 表示 5%",-1))]),_:1})]),_:1})]),_:1}),l(u),l(g,{gutter:20},{default:a(()=>[l(d,{xs:24,sm:12},{default:a(()=>[l(i,{label:"1级代理团队奖比例"},{default:a(()=>[l(r,{modelValue:t.team_level1_rate,"onUpdate:modelValue":e[2]||(e[2]=s=>t.team_level1_rate=s),min:0,max:1,step:.01,precision:2,"controls-position":"right",style:{width:"200px"}},null,8,["modelValue"]),e[15]||(e[15]=o("span",{class:"form-tip"},"例如：0.09 表示 9%",-1))]),_:1})]),_:1}),l(d,{xs:24,sm:12},{default:a(()=>[l(i,{label:"2级代理团队奖比例"},{default:a(()=>[l(r,{modelValue:t.team_level2_rate,"onUpdate:modelValue":e[3]||(e[3]=s=>t.team_level2_rate=s),min:0,max:1,step:.01,precision:2,"controls-position":"right",style:{width:"200px"}},null,8,["modelValue"]),e[16]||(e[16]=o("span",{class:"form-tip"},"例如：0.12 表示 12%",-1))]),_:1})]),_:1}),l(d,{xs:24,sm:12},{default:a(()=>[l(i,{label:"3级代理团队奖比例"},{default:a(()=>[l(r,{modelValue:t.team_level3_rate,"onUpdate:modelValue":e[4]||(e[4]=s=>t.team_level3_rate=s),min:0,max:1,step:.01,precision:2,"controls-position":"right",style:{width:"200px"}},null,8,["modelValue"]),e[17]||(e[17]=o("span",{class:"form-tip"},"例如：0.15 表示 15%",-1))]),_:1})]),_:1}),l(d,{xs:24,sm:12},{default:a(()=>[l(i,{label:"4级代理团队奖比例"},{default:a(()=>[l(r,{modelValue:t.team_level4_rate,"onUpdate:modelValue":e[5]||(e[5]=s=>t.team_level4_rate=s),min:0,max:1,step:.01,precision:2,"controls-position":"right",style:{width:"200px"}},null,8,["modelValue"]),e[18]||(e[18]=o("span",{class:"form-tip"},"例如：0.18 表示 18%",-1))]),_:1})]),_:1}),l(d,{xs:24,sm:12},{default:a(()=>[l(i,{label:"5级代理团队奖比例"},{default:a(()=>[l(r,{modelValue:t.team_level5_rate,"onUpdate:modelValue":e[6]||(e[6]=s=>t.team_level5_rate=s),min:0,max:1,step:.01,precision:2,"controls-position":"right",style:{width:"200px"}},null,8,["modelValue"]),e[19]||(e[19]=o("span",{class:"form-tip"},"例如：0.21 表示 21%",-1))]),_:1})]),_:1})]),_:1}),l(u),l(i,{label:"同级奖比例"},{default:a(()=>[l(r,{modelValue:t.same_level_rate,"onUpdate:modelValue":e[7]||(e[7]=s=>t.same_level_rate=s),min:0,max:1,step:.01,precision:2,"controls-position":"right",style:{width:"200px"}},null,8,["modelValue"]),e[20]||(e[20]=o("span",{class:"form-tip"},"例如：0.10 表示 10%（同级代理拿固定比例）",-1))]),_:1}),l(u),l(i,{label:"代理服务费折扣"},{default:a(()=>[l(r,{modelValue:t.service_fee_discount,"onUpdate:modelValue":e[8]||(e[8]=s=>t.service_fee_discount=s),min:0,max:1,step:.01,precision:2,"controls-position":"right",style:{width:"200px"}},null,8,["modelValue"]),e[21]||(e[21]=o("span",{class:"form-tip"},"例如：0.8 表示 8折，1 表示不打折",-1))]),_:1})]),_:1},8,["model"])),[[A,_.value]])]),_:1})])}}}),$=M(H,[["__scopeId","data-v-58b7742a"]]);export{$ as default};
