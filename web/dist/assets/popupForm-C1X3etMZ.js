import{B as M,am as N,b as S,a as h,I as m,Z as f,O as n,D as i,P as a,_ as C,G as g,F as E,u as e,a0 as I,U,a9 as T,H as r,$ as _,C as $,X as A}from"./vue-DnSQgQf0.js";import{F as p}from"./index-Ch43UxRl.js";import{e as K,_ as P}from"./index-BR6nH71S.js";import"./index-B5mnDXNW.js";import"./baTable-CpxZN4RR.js";import"./index-DGD6GkL-.js";const R={class:"title"},W={class:"ba-operate-footer"},j=M({__name:"popupForm",setup(G){const b=K(),o=N("baTable"),d=S(),w=h({title:[{required:!0,message:"请输入标题",trigger:"blur"},{max:200,message:"标题最大长度为200个字符",trigger:"blur"}],content:[{required:!0,message:"请输入内容",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}],is_popup:[{required:!0,message:"请选择是否弹窗",trigger:"change"}],popup_delay:[{type:"number",min:1e3,max:1e4,message:"弹窗延迟范围为1000-10000毫秒",trigger:"change"}],sort:[{type:"number",min:0,max:999,message:"排序范围为0-999",trigger:"change"}]});return(O,t)=>{const D=m("el-input"),s=m("el-form-item"),c=m("el-input-number"),V=m("el-date-picker"),Y=m("el-form"),F=m("el-scrollbar"),y=m("el-button"),q=m("el-dialog"),B=f("drag"),H=f("zoom"),z=f("loading");return i(),n(q,{class:"ba-operate-dialog","close-on-click-modal":!1,"destroy-on-close":!0,"model-value":["Add","Edit"].includes(e(o).form.operate),onClose:e(o).toggleForm},{header:a(()=>[C((i(),$("div",R,[_(A(e(o).form.operate==="Add"?"添加":e(o).form.operate==="Edit"?"编辑":""),1)])),[[B,[".ba-operate-dialog",".el-dialog__header"]],[H,".ba-operate-dialog"]])]),footer:a(()=>[g("div",W,[r(y,{onClick:e(o).toggleForm},{default:a(()=>t[12]||(t[12]=[_("取消")])),_:1},8,["onClick"]),r(y,{type:"primary",onClick:t[10]||(t[10]=u=>e(o).onSubmit(d.value)),loading:e(o).form.loading,disabled:e(o).form.loading},{default:a(()=>t[13]||(t[13]=[_(" 确定 ")])),_:1},8,["loading","disabled"])])]),default:a(()=>[C((i(),n(F,{class:"ba-table-form-scrollbar"},{default:a(()=>{var u,v,k,x;return[g("div",{class:I(["ba-operate-form","ba-"+e(o).form.operate+"-form"]),style:E((v=(u=e(b))==null?void 0:u.layout)!=null&&v.shrink?"":"width: calc(100% - "+(e(o).form.labelWidth||160)/2+"px)")},[e(o).form.loading?U("",!0):(i(),n(Y,{key:0,ref_key:"formRef",ref:d,onKeyup:t[9]||(t[9]=T(l=>e(o).onSubmit(d.value),["enter"])),model:e(o).form.items,"label-position":(x=(k=e(b))==null?void 0:k.layout)!=null&&x.shrink?"top":"right","label-width":(e(o).form.labelWidth||160)+"px",rules:w},{default:a(()=>[r(s,{prop:"title",label:"标题"},{default:a(()=>[r(D,{modelValue:e(o).form.items.title,"onUpdate:modelValue":t[0]||(t[0]=l=>e(o).form.items.title=l),type:"string",placeholder:"请输入标题"},null,8,["modelValue"])]),_:1}),r(s,{prop:"content",label:"内容"},{default:a(()=>[r(p,{type:"editor",modelValue:e(o).form.items.content,"onUpdate:modelValue":t[1]||(t[1]=l=>e(o).form.items.content=l),"input-attr":{height:"300px",placeholder:"请输入内容"}},null,8,["modelValue"])]),_:1}),r(p,{label:"类型",modelValue:e(o).form.items.type,"onUpdate:modelValue":t[2]||(t[2]=l=>e(o).form.items.type=l),type:"radio",prop:"type","input-attr":{border:!0,content:{normal:"普通",important:"重要"}}},null,8,["modelValue"]),r(p,{label:"状态",modelValue:e(o).form.items.status,"onUpdate:modelValue":t[3]||(t[3]=l=>e(o).form.items.status=l),type:"radio",prop:"status","input-attr":{border:!0,content:{1:"启用",0:"禁用"}}},null,8,["modelValue"]),r(p,{label:"是否弹窗",modelValue:e(o).form.items.is_popup,"onUpdate:modelValue":t[4]||(t[4]=l=>e(o).form.items.is_popup=l),type:"radio",prop:"is_popup","input-attr":{border:!0,content:{1:"是",0:"否"}}},null,8,["modelValue"]),e(o).form.items.is_popup==="1"||e(o).form.items.is_popup===1?(i(),n(s,{key:0,prop:"popup_delay",label:"弹窗延迟"},{default:a(()=>[r(c,{modelValue:e(o).form.items.popup_delay,"onUpdate:modelValue":t[5]||(t[5]=l=>e(o).form.items.popup_delay=l),min:1e3,max:1e4,step:500,"controls-position":"right",placeholder:"请输入弹窗延迟"},null,8,["modelValue"]),t[11]||(t[11]=g("div",{class:"form-item-tip"},"弹窗延迟时间，单位：毫秒（1秒=1000毫秒）",-1))]),_:1})):U("",!0),r(s,{prop:"sort",label:"排序"},{default:a(()=>[r(c,{modelValue:e(o).form.items.sort,"onUpdate:modelValue":t[6]||(t[6]=l=>e(o).form.items.sort=l),min:0,max:999,"controls-position":"right",placeholder:"请输入排序"},null,8,["modelValue"])]),_:1}),r(s,{label:"开始时间"},{default:a(()=>[r(V,{class:"w100","value-format":"YYYY-MM-DD HH:mm:ss",modelValue:e(o).form.items.start_time,"onUpdate:modelValue":t[7]||(t[7]=l=>e(o).form.items.start_time=l),type:"datetime",placeholder:"请选择开始时间"},null,8,["modelValue"])]),_:1}),r(s,{label:"结束时间"},{default:a(()=>[r(V,{class:"w100","value-format":"YYYY-MM-DD HH:mm:ss",modelValue:e(o).form.items.end_time,"onUpdate:modelValue":t[8]||(t[8]=l=>e(o).form.items.end_time=l),type:"datetime",placeholder:"请选择结束时间"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","label-position","label-width","rules"]))],6)]}),_:1})),[[z,e(o).form.loading]])]),_:1},8,["model-value","onClose"])}}}),oe=P(j,[["__scopeId","data-v-350fe421"]]);export{oe as default};
