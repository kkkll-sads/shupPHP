import{v as M,_ as Q}from"./index-DNBbsmjl.js";import{B as W,am as Y,b as ee,l as E,I as m,Z as F,O as p,D as r,P as e,_ as j,G as b,a0 as te,u as a,H as s,U as k,$ as n,X as d,C as c}from"./vue-_nkvHh4F.js";const oe={class:"title"},le={key:0},ae={key:1},se={key:0},re={key:1},ie={key:0},ne={key:1},de={key:0},me={key:0},pe={key:1},ue={key:1},_e={class:"dialog-footer"},fe=W({__name:"popupForm",setup(ce){const o=Y("baTable"),{t:D}=M.useI18n(),T=ee(),h=E(()=>{var u;return(u=o.form.items)!=null&&u.items?o.form.items.items.some(l=>l.is_physical=="1"):!1}),z=E(()=>{var u;return(u=o.form.items)!=null&&u.items?o.form.items.items.some(l=>l.is_card_product=="1"):!1}),R=u=>({pending:"å¾…æ”¯ä»˜",paid:"å·²æ”¯ä»˜",shipped:"å·²å‘è´§",completed:"å·²å®Œæˆ",cancelled:"å·²å–æ¶ˆ",refunded:"å·²é€€æ¬¾"})[u]||u,$=u=>({pending:"info",paid:"warning",shipped:"primary",completed:"success",cancelled:"info",refunded:"danger"})[u]||"",x=u=>!u||u===0?"-":new Date(u*1e3).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return(u,l)=>{const _=m("el-descriptions-item"),y=m("el-tag"),B=m("el-descriptions"),V=m("el-card"),q=m("el-image"),g=m("el-table-column"),G=m("el-table"),v=m("el-option"),H=m("el-select"),w=m("el-form-item"),C=m("el-input"),L=m("el-alert"),O=m("el-form"),X=m("el-scrollbar"),I=m("el-button"),Z=m("el-dialog"),A=F("drag"),J=F("zoom"),K=F("loading");return r(),p(Z,{class:"ba-operate-dialog","close-on-click-modal":!1,"destroy-on-close":!0,"model-value":["Edit"].includes(a(o).form.operate),onClose:a(o).toggleForm,width:"70%"},{header:e(()=>[j((r(),c("div",oe,l[5]||(l[5]=[n(" è®¢å•è¯¦æƒ… ")]))),[[A,[".ba-operate-dialog",".el-dialog__header"]],[J,".ba-operate-dialog"]])]),footer:e(()=>[b("div",_e,[s(I,{onClick:a(o).toggleForm},{default:e(()=>[n(d(a(D)("Cancel")),1)]),_:1},8,["onClick"]),s(I,{type:"primary",onClick:l[4]||(l[4]=N=>a(o).onSubmit(T.value))},{default:e(()=>[n(d(a(D)("Confirm")),1)]),_:1})])]),default:e(()=>[j((r(),p(X,{class:"ba-table-form-scrollbar"},{default:e(()=>{var N;return[b("div",{class:te(["ba-operate-form","ba-"+a(o).form.operate+"-form"])},[s(V,{class:"box-card",style:{"margin-bottom":"20px"}},{header:e(()=>l[6]||(l[6]=[b("div",{class:"card-header"},[b("span",null,"è®¢å•ä¿¡æ¯")],-1)])),default:e(()=>[s(B,{column:2,border:""},{default:e(()=>[s(_,{label:"è®¢å•å·"},{default:e(()=>{var t;return[n(d((t=a(o).form.items)==null?void 0:t.order_no),1)]}),_:1}),s(_,{label:"ç”¨æˆ·ID"},{default:e(()=>{var t;return[n(d((t=a(o).form.items)==null?void 0:t.user_id),1)]}),_:1}),s(_,{label:"è®¢å•é‡‘é¢"},{default:e(()=>{var t,i,f;return[((t=a(o).form.items)==null?void 0:t.pay_type)==="money"?(r(),c("span",le,d(Number((i=a(o).form.items)==null?void 0:i.total_amount).toFixed(2))+"å…ƒ ",1)):(r(),c("span",ae,d((f=a(o).form.items)==null?void 0:f.total_score)+"ç§¯åˆ† ",1))]}),_:1}),s(_,{label:"æ”¯ä»˜æ–¹å¼"},{default:e(()=>{var t;return[((t=a(o).form.items)==null?void 0:t.pay_type)==="money"?(r(),p(y,{key:0,type:"success"},{default:e(()=>l[7]||(l[7]=[n("ä½™é¢æ”¯ä»˜")])),_:1})):(r(),p(y,{key:1,type:"warning"},{default:e(()=>l[8]||(l[8]=[n("ç§¯åˆ†å…‘æ¢")])),_:1}))]}),_:1}),s(_,{label:"è®¢å•çŠ¶æ€"},{default:e(()=>{var t;return[s(y,{type:$((t=a(o).form.items)==null?void 0:t.status)},{default:e(()=>{var i;return[n(d(R((i=a(o).form.items)==null?void 0:i.status)),1)]}),_:1},8,["type"])]}),_:1}),s(_,{label:"åˆ›å»ºæ—¶é—´"},{default:e(()=>{var t;return[n(d(x((t=a(o).form.items)==null?void 0:t.create_time)),1)]}),_:1}),s(_,{label:"æ”¯ä»˜æ—¶é—´"},{default:e(()=>{var t;return[n(d(x((t=a(o).form.items)==null?void 0:t.pay_time)),1)]}),_:1}),s(_,{label:"å‘è´§æ—¶é—´"},{default:e(()=>{var t;return[n(d(x((t=a(o).form.items)==null?void 0:t.ship_time)),1)]}),_:1}),s(_,{label:"ç”¨æˆ·å¤‡æ³¨",span:2},{default:e(()=>{var t;return[n(d(((t=a(o).form.items)==null?void 0:t.remark)||"æ— "),1)]}),_:1})]),_:1})]),_:1}),(N=a(o).form.items)!=null&&N.recipient_name&&h.value?(r(),p(V,{key:0,class:"box-card",style:{"margin-bottom":"20px"}},{header:e(()=>l[9]||(l[9]=[b("div",{class:"card-header"},[b("span",null,"æ”¶è´§ä¿¡æ¯")],-1)])),default:e(()=>[s(B,{column:2,border:""},{default:e(()=>[s(_,{label:"æ”¶è´§äºº"},{default:e(()=>{var t;return[n(d((t=a(o).form.items)==null?void 0:t.recipient_name),1)]}),_:1}),s(_,{label:"æ”¶è´§ç”µè¯"},{default:e(()=>{var t;return[n(d((t=a(o).form.items)==null?void 0:t.recipient_phone),1)]}),_:1}),s(_,{label:"æ”¶è´§åœ°å€",span:2},{default:e(()=>{var t;return[n(d((t=a(o).form.items)==null?void 0:t.recipient_address),1)]}),_:1})]),_:1})]),_:1})):k("",!0),s(V,{class:"box-card",style:{"margin-bottom":"20px"}},{header:e(()=>l[10]||(l[10]=[b("div",{class:"card-header"},[b("span",null,"å•†å“ä¿¡æ¯")],-1)])),default:e(()=>{var t;return[s(G,{data:(t=a(o).form.items)==null?void 0:t.items,border:"",style:{width:"100%"}},{default:e(()=>[s(g,{label:"å•†å“å›¾ç‰‡",width:"100"},{default:e(i=>[i.row.product_thumbnail?(r(),p(q,{key:0,src:i.row.product_thumbnail,"preview-src-list":[i.row.product_thumbnail],style:{width:"60px",height:"60px"},fit:"cover"},null,8,["src","preview-src-list"])):k("",!0)]),_:1}),s(g,{prop:"product_name",label:"å•†å“åç§°"}),s(g,{label:"å•†å“ç±»å‹",width:"100"},{default:e(i=>[i.row.is_physical=="1"?(r(),p(y,{key:0,type:"success"},{default:e(()=>l[11]||(l[11]=[n("å®ç‰©")])),_:1})):i.row.is_card_product=="1"?(r(),p(y,{key:1,type:"warning"},{default:e(()=>l[12]||(l[12]=[n("å¡å¯†")])),_:1})):(r(),p(y,{key:2,type:"primary"},{default:e(()=>l[13]||(l[13]=[n("è™šæ‹Ÿ")])),_:1}))]),_:1}),s(g,{label:"å•ä»·",width:"120"},{default:e(i=>{var f;return[((f=a(o).form.items)==null?void 0:f.pay_type)==="money"?(r(),c("span",se,d(Number(i.row.price).toFixed(2))+"å…ƒ ",1)):(r(),c("span",re,d(i.row.score_price)+"ç§¯åˆ† ",1))]}),_:1}),s(g,{prop:"quantity",label:"æ•°é‡",width:"100"}),s(g,{label:"å°è®¡",width:"120"},{default:e(i=>{var f;return[((f=a(o).form.items)==null?void 0:f.pay_type)==="money"?(r(),c("span",ie,d(Number(i.row.subtotal).toFixed(2))+"å…ƒ ",1)):(r(),c("span",ne,d(i.row.subtotal_score)+"ç§¯åˆ† ",1))]}),_:1}),s(g,{label:"è™šæ‹Ÿäº§å“ä¿¡æ¯",width:"200"},{default:e(i=>{var f,P,S,U;return[i.row.is_physical=="0"?(r(),c("div",de,[i.row.is_card_product=="1"?(r(),c("div",me,[((f=a(o).form.items)==null?void 0:f.status)==="shipped"||((P=a(o).form.items)==null?void 0:P.status)==="completed"?(r(),p(y,{key:0,type:"success",effect:"dark"},{default:e(()=>l[14]||(l[14]=[n(" å·²å‘å¡ ")])),_:1})):(r(),p(y,{key:1,type:"info"},{default:e(()=>l[15]||(l[15]=[n("å¾…å‘å¡")])),_:1}))])):(r(),c("div",pe,[((S=a(o).form.items)==null?void 0:S.status)==="paid"||((U=a(o).form.items)==null?void 0:U.status)==="completed"?(r(),p(y,{key:0,type:"success",effect:"dark"},{default:e(()=>l[16]||(l[16]=[n(" å·²æˆåŠŸå……å€¼ ")])),_:1})):k("",!0)]))])):(r(),c("span",ue,"-"))]}),_:1})]),_:1},8,["data"])]}),_:1}),a(o).form.loading?k("",!0):(r(),p(O,{key:1,ref_key:"formRef",ref:T,model:a(o).form.items,"label-width":"120px"},{default:e(()=>[s(w,{label:"è®¢å•çŠ¶æ€",prop:"status"},{default:e(()=>[s(H,{modelValue:a(o).form.items.status,"onUpdate:modelValue":l[0]||(l[0]=t=>a(o).form.items.status=t),placeholder:"è¯·é€‰æ‹©è®¢å•çŠ¶æ€"},{default:e(()=>[s(v,{label:"å¾…æ”¯ä»˜",value:"pending"}),s(v,{label:"å·²æ”¯ä»˜",value:"paid"}),s(v,{label:"å·²å‘è´§",value:"shipped"}),s(v,{label:"å·²å®Œæˆ",value:"completed"}),s(v,{label:"å·²å–æ¶ˆ",value:"cancelled"}),s(v,{label:"å·²é€€æ¬¾",value:"refunded"})]),_:1},8,["modelValue"])]),_:1}),h.value?(r(),p(w,{key:0,label:"ç‰©æµå…¬å¸",prop:"shipping_company"},{default:e(()=>[s(C,{modelValue:a(o).form.items.shipping_company,"onUpdate:modelValue":l[1]||(l[1]=t=>a(o).form.items.shipping_company=t),placeholder:"è¯·è¾“å…¥ç‰©æµå…¬å¸"},null,8,["modelValue"])]),_:1})):k("",!0),h.value?(r(),p(w,{key:1,label:"ç‰©æµå•å·",prop:"shipping_no"},{default:e(()=>[s(C,{modelValue:a(o).form.items.shipping_no,"onUpdate:modelValue":l[2]||(l[2]=t=>a(o).form.items.shipping_no=t),placeholder:"è¯·è¾“å…¥ç‰©æµå•å·"},null,8,["modelValue"])]),_:1})):k("",!0),s(w,{label:"ç®¡ç†å‘˜å¤‡æ³¨",prop:"admin_remark"},{default:e(()=>{var t;return[s(C,{modelValue:a(o).form.items.admin_remark,"onUpdate:modelValue":l[3]||(l[3]=i=>a(o).form.items.admin_remark=i),type:"textarea",rows:3,placeholder:z.value?"è¯·è¾“å…¥å¡å¯†ä¿¡æ¯ï¼ˆå¡«å†™åè®¢å•å°†è‡ªåŠ¨æ ‡è®°ä¸ºå·²å‘è´§ï¼‰":"è¯·è¾“å…¥ç®¡ç†å‘˜å¤‡æ³¨"},null,8,["modelValue","placeholder"]),z.value&&((t=a(o).form.items)==null?void 0:t.status)==="paid"?(r(),p(L,{key:0,type:"warning",closable:!1,style:{"margin-top":"10px"}},{title:e(()=>l[17]||(l[17]=[b("span",{style:{"font-size":"12px"}},'ğŸ’¡ æç¤ºï¼šæ­¤è®¢å•åŒ…å«å¡å¯†å•†å“ï¼Œå¡«å†™å¤‡æ³¨ä¿¡æ¯åä¿å­˜å°†è‡ªåŠ¨æ›´æ–°ä¸º"å·²å‘è´§"çŠ¶æ€',-1)])),_:1})):k("",!0)]}),_:1})]),_:1},8,["model"]))],2)]}),_:1})),[[K,a(o).form.loading]])]),_:1},8,["model-value","onClose"])}}}),ge=Q(fe,[["__scopeId","data-v-fdbe27e4"]]);export{ge as default};
