import{B as P,am as z,b as E,l as N,w as $,I as d,Z as g,O as _,D as p,P as r,_ as h,G as U,F as j,u as e,a0 as A,U as K,a9 as R,H as n,$ as b,X as y,C as W}from"./vue-DnSQgQf0.js";import{v as G,e as H}from"./index-BR6nH71S.js";import{F as s}from"./index-Ch43UxRl.js";const O={class:"title"},X={class:"dialog-footer"},Y=P({__name:"popupForm",setup(Z){const t=z("baTable"),{t:o}=G.useI18n(),v=H(),u=E(),T=N(()=>{var m;const i=((m=t.form.items)==null?void 0:m.media_type)||"image";let l="*/*";return i==="image"?l="image/*":i==="video"?l="video/*":i==="document"&&(l=".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt"),{accept:l,limit:1,returnFullUrl:!0,dataType:"string",hideSelectFile:!1}});$(()=>{var i;return(i=t.form.items)==null?void 0:i.category},i=>{!i||!t.form.items||["promo_video","hot_video"].includes(i)&&t.form.items.media_type!=="video"&&(t.form.items.media_type="video")});const k={category:[{required:!0,message:o("content.contentMedia.Category is invalid"),trigger:"change"}],title:[{required:!0,message:o("Please input field",{field:o("content.contentMedia.Title")}),trigger:"blur"}],media_type:[{required:!0,message:o("content.contentMedia.Media type is invalid"),trigger:"change"}],media_url:[{required:!0,message:o("content.contentMedia.Media resource is required"),trigger:"change"}],status:[{required:!0,message:o("content.contentMedia.Status value is incorrect"),trigger:"change"}]};return(i,l)=>{const m=d("el-input"),c=d("el-form-item"),S=d("el-input-number"),w=d("el-form"),F=d("el-scrollbar"),M=d("el-button"),D=d("el-dialog"),q=g("drag"),B=g("zoom"),I=g("loading");return p(),_(D,{class:"ba-operate-dialog","close-on-click-modal":!1,"destroy-on-close":!0,"model-value":["Add","Edit"].includes(e(t).form.operate),onClose:e(t).toggleForm},{header:r(()=>[h((p(),W("div",O,[b(y(e(t).form.operate?e(o)(String(e(t).form.operate)):""),1)])),[[q,[".ba-operate-dialog",".el-dialog__header"]],[B,".ba-operate-dialog"]])]),footer:r(()=>[U("div",X,[n(M,{onClick:e(t).toggleForm},{default:r(()=>[b(y(e(o)("Cancel")),1)]),_:1},8,["onClick"]),n(M,{type:"primary",onClick:l[9]||(l[9]=f=>e(t).onSubmit(u.value))},{default:r(()=>[b(y(e(o)("Confirm")),1)]),_:1})])]),default:r(()=>[h((p(),_(F,{class:"ba-table-form-scrollbar"},{default:r(()=>{var f,V,C,x;return[U("div",{class:A(["ba-operate-form","ba-"+e(t).form.operate+"-form"]),style:j((V=(f=e(v))==null?void 0:f.layout)!=null&&V.shrink?"":"width: calc(100% - "+(e(t).form.labelWidth||160)/2+"px)")},[e(t).form.loading?K("",!0):(p(),_(w,{key:0,ref_key:"formRef",ref:u,onKeyup:l[8]||(l[8]=R(a=>e(t).onSubmit(u.value),["enter"])),model:e(t).form.items,"label-position":(x=(C=e(v))==null?void 0:C.layout)!=null&&x.shrink?"top":"right","label-width":(e(t).form.labelWidth||160)+"px",rules:k},{default:r(()=>[n(s,{label:e(o)("content.contentMedia.Category"),modelValue:e(t).form.items.category,"onUpdate:modelValue":l[0]||(l[0]=a=>e(t).form.items.category=a),type:"radio",prop:"category","input-attr":{border:!0},data:{content:{promo_video:e(o)("content.contentMedia.Category promo_video"),resource:e(o)("content.contentMedia.Category resource"),hot_video:e(o)("content.contentMedia.Category hot_video")}}},null,8,["label","modelValue","data"]),n(c,{prop:"title",label:e(o)("content.contentMedia.Title")},{default:r(()=>[n(m,{modelValue:e(t).form.items.title,"onUpdate:modelValue":l[1]||(l[1]=a=>e(t).form.items.title=a),type:"string",placeholder:e(o)("Please input field",{field:e(o)("content.contentMedia.Title")})},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),n(c,{prop:"description",label:e(o)("content.contentMedia.Description")},{default:r(()=>[n(m,{modelValue:e(t).form.items.description,"onUpdate:modelValue":l[2]||(l[2]=a=>e(t).form.items.description=a),type:"textarea",rows:3,placeholder:e(o)("Please input field",{field:e(o)("content.contentMedia.Description")})},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),n(s,{label:e(o)("content.contentMedia.Cover Image"),type:"image",modelValue:e(t).form.items.cover_image,"onUpdate:modelValue":l[3]||(l[3]=a=>e(t).form.items.cover_image=a),prop:"cover_image","input-attr":{returnFullUrl:!0,limit:1}},null,8,["label","modelValue"]),n(s,{label:e(o)("content.contentMedia.Media Type"),modelValue:e(t).form.items.media_type,"onUpdate:modelValue":l[4]||(l[4]=a=>e(t).form.items.media_type=a),type:"select",prop:"media_type",data:{content:{image:e(o)("content.contentMedia.Media Type image"),video:e(o)("content.contentMedia.Media Type video"),document:e(o)("content.contentMedia.Media Type document"),other:e(o)("content.contentMedia.Media Type other")}},"input-attr":{clearable:!1}},null,8,["label","modelValue","data"]),n(s,{label:e(o)("content.contentMedia.Media Url"),type:"file",modelValue:e(t).form.items.media_url,"onUpdate:modelValue":l[5]||(l[5]=a=>e(t).form.items.media_url=a),prop:"media_url","input-attr":T.value},null,8,["label","modelValue","input-attr"]),n(s,{label:e(o)("content.contentMedia.Status"),modelValue:e(t).form.items.status,"onUpdate:modelValue":l[6]||(l[6]=a=>e(t).form.items.status=a),type:"radio",prop:"status","input-attr":{border:!0,content:{1:e(o)("Enable"),0:e(o)("Disable")}}},null,8,["label","modelValue","input-attr"]),n(c,{prop:"sort",label:e(o)("content.contentMedia.Sort")},{default:r(()=>[n(S,{modelValue:e(t).form.items.sort,"onUpdate:modelValue":l[7]||(l[7]=a=>e(t).form.items.sort=a),min:0,max:999,"controls-position":"right",placeholder:e(o)("Please input field",{field:e(o)("content.contentMedia.Sort")})},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model","label-position","label-width"]))],6)]}),_:1})),[[I,e(t).form.loading]])]),_:1},8,["model-value","onClose"])}}});export{Y as _};
