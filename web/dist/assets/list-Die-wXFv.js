import{B as N,a as z,o as S,_ as B,Z as M,C as c,H as o,P as d,a1 as g,I as n,Y as V,D as l,G as t,U as Y,X as i,u as p,V as H,W as I,O as L,$ as E,a2 as F}from"./vue-_nkvHh4F.js";import{v as j,_ as P}from"./index-DNBbsmjl.js";import{H as R,F as $}from"./footer-CkaODoBZ.js";import{b as G}from"./home-e7L03HLI.js";import"./darkSwitch-Cgtir3iY.js";import"./router-D4NHICnd.js";import"./useDark-DEYN0Aux.js";const O={class:"news-page"},T={class:"news-header"},U={class:"news-card-cover"},W=["src"],X={key:1,class:"news-card-placeholder"},Z={class:"news-card-body"},q={class:"news-date"},A=["title"],J=["title"],K={key:0,class:"pagination"},Q=N({__name:"list",setup(ee){const{t:r}=j.useI18n(),m=V(),a=z({loading:!1,list:[],total:0,page:1,pageSize:10}),u=async()=>{a.loading=!0;try{const{data:e}=await G({page:a.page,limit:a.pageSize});e.code===1?(a.list=e.data.list||[],a.total=e.data.total||0):g.error(e.msg||r("Load failed"))}catch(e){g.error((e==null?void 0:e.message)||r("Load failed"))}finally{a.loading=!1}},f=e=>{a.page=e,u()},w=e=>e?F.unix(e).format("YYYY-MM-DD"):"",h=e=>{e.link_url?window.open(e.link_url,"_blank"):m.push({name:"newsDetail",params:{id:e.id}})};return S(()=>{u()}),(e,_)=>{const v=n("el-button"),y=n("el-card"),k=n("el-col"),x=n("el-row"),b=n("el-pagination"),C=n("el-main"),D=M("loading");return B((l(),c("div",O,[o(R),o(C,{class:"news-main"},{default:d(()=>[t("div",T,[t("h1",null,i(p(r)("index.Hot News")),1),t("p",null,i(p(r)("news.Subtitle")),1)]),o(x,{gutter:24},{default:d(()=>[(l(!0),c(H,null,I(a.list,s=>(l(),L(k,{key:s.id,xs:24,md:12},{default:d(()=>[o(y,{class:"news-card",shadow:"hover",onClick:ae=>h(s)},{default:d(()=>[t("div",U,[s.cover_image?(l(),c("img",{key:0,src:s.cover_image,alt:""},null,8,W)):(l(),c("div",X,_[0]||(_[0]=[t("i",{class:"fa fa-newspaper-o"},null,-1)])))]),t("div",Z,[t("span",q,i(w(s.publish_time)),1),t("h3",{class:"news-title",title:s.title},i(s.title),9,A),t("p",{class:"news-summary",title:s.summary},i(s.summary),9,J),o(v,{link:"",type:"primary"},{default:d(()=>[E(i(p(r)("index.Read More"))+" ",1),_[1]||(_[1]=t("i",{class:"fa fa-angle-right"},null,-1))]),_:1})])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}),a.total>a.pageSize?(l(),c("div",K,[o(b,{background:"",layout:"prev, pager, next",total:a.total,"page-size":a.pageSize,"current-page":a.page,onCurrentChange:f},null,8,["total","page-size","current-page"])])):Y("",!0)]),_:1}),o($)])),[[D,a.loading]])}}}),ce=P(Q,[["__scopeId","data-v-7c1b3eb8"]]);export{ce as default};
