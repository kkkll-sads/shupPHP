import{b as y}from"./baTable-Cho2KrQQ.js";import{_ as w}from"./popupForm.vue_vue_type_script_setup_true_lang-DOA5SWJN.js";import{T as x,a as k}from"./index-Cl6ixW7i.js";import{v as I,a5 as E,_ as T}from"./index-DNBbsmjl.js";import{B as D,b as N,I as d,C as B,D as _,O as m,U as b,H as l,u as p,P as r,G as a,X as u,at as C}from"./vue-_nkvHh4F.js";import"./index-BNmCRBQg.js";const F={class:"default-main ba-table-box"},q={class:"stat-item"},L={class:"stat-value primary"},P={class:"stat-item"},z={class:"stat-value success"},G={class:"stat-item"},O={class:"stat-value info"},V={class:"stat-item"},A={class:"stat-value"},K=D({name:"finance/incomeLog",__name:"index",setup(S){const{t:s}=I.useI18n(),n=N(null),f=[{render:"tipButton",name:"info",title:"查看详情",text:"详情",type:"primary",icon:"fa fa-eye",class:"table-row-detail",disabledTip:!1,display:()=>!0,click:e=>{t.toggleForm("Edit",[e.id])}}],t=new y(new E("/admin/finance.IncomeLog/"),{column:[{type:"selection",align:"center",operator:!1},{label:s("Id"),prop:"id",align:"center",operator:"=",operatorPlaceholder:s("Id"),width:70},{label:"订单号",prop:"order_no",align:"center",operator:"LIKE",operatorPlaceholder:s("Fuzzy query")},{label:"用户",prop:"user_nickname",align:"center",operator:"LIKE",operatorPlaceholder:"用户昵称",render:e=>e.user_nickname||"--"},{label:"产品名称",prop:"product_name",align:"center",operator:"LIKE",operatorPlaceholder:s("Fuzzy query")},{label:"返息类型",prop:"income_type",align:"center",operator:"select",operatorOptions:[{label:"每日返息",value:"daily"},{label:"周期返息",value:"period"},{label:"阶段返息",value:"stage"},{label:"本金返还",value:"principal"},{label:"复利返息",value:"compound"}],width:100,render:e=>e.income_type_text||"--"},{label:"返息金额",prop:"income_amount",align:"center",operator:"BETWEEN",render:e=>{const o=Number(e.income_amount);return isNaN(o)?e.income_amount:"¥"+o.toFixed(2)}},{label:"返息日期",prop:"income_date",align:"center",operator:"RANGE",width:120},{label:"周期/阶段",prop:"period_number",align:"center",operator:!1,width:100,render:e=>e.period_number?`第${e.period_number}周期`:e.stage_info?e.stage_info+"天":"--"},{label:"状态",prop:"status",align:"center",render:"tag",operator:"select",operatorOptions:[{label:"已发放",value:"1"},{label:"未发放",value:"0"}],width:100,custom:{1:"success",0:"danger"},replaceValue:{1:"已发放",0:"未发放"}},{label:"发放时间",prop:"settle_time_text",align:"center",operator:!1,width:160},{label:s("Create time"),prop:"create_time",align:"center",render:"datetime",sortable:"custom",operator:"RANGE",width:160},{label:s("Operate"),align:"center",width:120,render:"buttons",buttons:f,operator:!1}]},{defaultItems:{}}),v=t.getData.bind(t);return t.getData=async()=>{await v(),t.table.extend&&t.table.extend.statistics&&(n.value=t.table.extend.statistics)},t.onTableDone=e=>{e&&e.data&&e.data.statistics&&(n.value=e.data.statistics)},t.mount(),t.getData(),C("baTable",t),(e,o)=>{const h=d("el-alert"),i=d("el-card"),c=d("el-col"),g=d("el-row");return _(),B("div",F,[p(t).table.remark?(_(),m(h,{key:0,class:"ba-table-alert",title:p(t).table.remark,type:"info","show-icon":""},null,8,["title"])):b("",!0),n.value?(_(),m(g,{key:1,gutter:20,class:"statistics-row"},{default:r(()=>[l(c,{span:6},{default:r(()=>[l(i,{shadow:"hover"},{default:r(()=>[a("div",q,[o[0]||(o[0]=a("div",{class:"stat-label"},"今日返息总额",-1)),a("div",L,"¥"+u((n.value.today_total||0).toFixed(2)),1)])]),_:1})]),_:1}),l(c,{span:6},{default:r(()=>[l(i,{shadow:"hover"},{default:r(()=>[a("div",P,[o[1]||(o[1]=a("div",{class:"stat-label"},"今日返息笔数",-1)),a("div",z,u(n.value.today_count||0),1)])]),_:1})]),_:1}),l(c,{span:6},{default:r(()=>[l(i,{shadow:"hover"},{default:r(()=>[a("div",G,[o[2]||(o[2]=a("div",{class:"stat-label"},"累计返息总额",-1)),a("div",O,"¥"+u((n.value.total_amount||0).toFixed(2)),1)])]),_:1})]),_:1}),l(c,{span:6},{default:r(()=>[l(i,{shadow:"hover"},{default:r(()=>[a("div",V,[o[3]||(o[3]=a("div",{class:"stat-label"},"累计返息笔数",-1)),a("div",A,u(n.value.total_count||0),1)])]),_:1})]),_:1})]),_:1})):b("",!0),l(x,{buttons:["refresh","comSearch","quickSearch","columnDisplay"],"quick-search-placeholder":p(s)("Quick search placeholder",{fields:p(s)("Id")+"/订单ID"})},null,8,["quick-search-placeholder"]),l(k),l(w)])}}}),W=T(K,[["__scopeId","data-v-8714c07b"]]);export{W as default};
