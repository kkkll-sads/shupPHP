import{B as G,b as u,a as k,I as o,Z as N,C as O,D as h,H as t,P as l,_ as W,O as B,G as a,X as I,u as M,aK as S,$ as m}from"./vue-_nkvHh4F.js";import{c as _,_ as P}from"./index-DNBbsmjl.js";const L={class:"register-config"},U={class:"card-header"},A={class:"card-actions"},H={class:"form-tip"},K={class:"card-header"},X={class:"card-actions"},Z={class:"form-tip"},$=G({__name:"RegisterConfig",setup(j){const d=u(!1),g=u(!1),n=k({enabled:!1}),r=u(!1),v=u(!1),s=k({enabled:!1}),p=()=>{d.value=!0,_({url:"/admin/content.DrawCountConfig/inviteCodeRegisterConfig",method:"GET"}).then(i=>{n.enabled=i.data.enabled===1||i.data.enabled===!0}).finally(()=>{d.value=!1})},T=()=>{g.value=!0,_({url:"/admin/content.DrawCountConfig/inviteCodeRegisterConfig",method:"POST",data:{enabled:n.enabled?1:0}},{showSuccessMessage:!0}).then(()=>{p()}).finally(()=>{g.value=!1})},C=()=>{r.value=!0,_({url:"/admin/content.DrawCountConfig/mobileWhitelistConfig",method:"GET"}).then(i=>{s.enabled=i.data.enabled===1||i.data.enabled===!0}).finally(()=>{r.value=!1})},z=()=>{v.value=!0,_({url:"/admin/content.DrawCountConfig/mobileWhitelistConfig",method:"POST",data:{enabled:s.enabled?1:0}},{showSuccessMessage:!0}).then(()=>{C()}).finally(()=>{v.value=!1})};return p(),C(),(i,e)=>{const f=o("el-button"),w=o("el-alert"),c=o("el-form-item"),y=o("el-switch"),x=o("el-form"),R=o("el-card"),V=o("el-col"),E=o("el-row"),D=N("loading");return h(),O("div",L,[t(E,{gutter:20},{default:l(()=>[t(V,{xs:24,sm:12},{default:l(()=>[t(R,{class:"config-card",shadow:"hover"},{header:l(()=>[a("div",U,[e[4]||(e[4]=a("span",{class:"card-title"},"邀请码注册配置",-1)),a("div",A,[t(f,{size:"small",onClick:p,loading:d.value,icon:M(S)},{default:l(()=>e[2]||(e[2]=[m("刷新")])),_:1},8,["loading","icon"]),t(f,{size:"small",type:"primary",onClick:T,loading:g.value},{default:l(()=>e[3]||(e[3]=[m("保存")])),_:1},8,["loading"])])])]),default:l(()=>[W((h(),B(x,{model:n,"label-width":"140px"},{default:l(()=>[t(c,{label:"配置说明"},{default:l(()=>[t(w,{type:"info",closable:!1,"show-icon":""},{default:l(()=>e[5]||(e[5]=[a("div",null,"启用邀请码注册后，用户注册时必须填写有效的邀请码",-1),a("div",{class:"alert-tip"},"关闭后，用户注册时不需要填写邀请码（可选）",-1),a("div",{class:"alert-tip"},"邀请码管理：用户管理 → 用户管理（查看用户的邀请码）",-1)])),_:1})]),_:1}),t(c,{label:"启用邀请码注册"},{default:l(()=>[t(y,{modelValue:n.enabled,"onUpdate:modelValue":e[0]||(e[0]=b=>n.enabled=b)},null,8,["modelValue"]),a("span",H,I(n.enabled?"已启用：注册时必须填写有效的邀请码":"已关闭：注册时不需要填写邀请码"),1)]),_:1})]),_:1},8,["model"])),[[D,d.value]])]),_:1})]),_:1}),t(V,{xs:24,sm:12},{default:l(()=>[t(R,{class:"config-card",shadow:"hover"},{header:l(()=>[a("div",K,[e[8]||(e[8]=a("span",{class:"card-title"},"手机号白名单配置",-1)),a("div",X,[t(f,{size:"small",onClick:C,loading:r.value,icon:M(S)},{default:l(()=>e[6]||(e[6]=[m("刷新")])),_:1},8,["loading","icon"]),t(f,{size:"small",type:"primary",onClick:z,loading:v.value},{default:l(()=>e[7]||(e[7]=[m("保存")])),_:1},8,["loading"])])])]),default:l(()=>[W((h(),B(x,{model:s,"label-width":"140px"},{default:l(()=>[t(c,{label:"配置说明"},{default:l(()=>[t(w,{type:"info",closable:!1,"show-icon":""},{default:l(()=>e[9]||(e[9]=[a("div",null,"启用手机号白名单验证后，只有白名单中的手机号才能注册",-1),a("div",{class:"alert-tip"},"关闭后，所有手机号都可以注册（不受白名单限制）",-1),a("div",{class:"alert-tip"},"白名单管理：用户管理 → 手机号白名单",-1)])),_:1})]),_:1}),t(c,{label:"启用白名单验证"},{default:l(()=>[t(y,{modelValue:s.enabled,"onUpdate:modelValue":e[1]||(e[1]=b=>s.enabled=b)},null,8,["modelValue"]),a("span",Z,I(s.enabled?"已启用：只有白名单中的手机号才能注册":"已关闭：所有手机号都可以注册"),1)]),_:1})]),_:1},8,["model"])),[[D,r.value]])]),_:1})]),_:1})]),_:1})])}}}),J=P($,[["__scopeId","data-v-5b8f2534"]]);export{J as default};
