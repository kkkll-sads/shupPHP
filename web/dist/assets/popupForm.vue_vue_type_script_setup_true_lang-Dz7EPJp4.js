import{F as C}from"./index-Dy1MJO1N.js";import{e as W,a5 as H}from"./index-DRv2sWQF.js";import{B as L,am as O,b as k,I as s,Z as p,O as m,D as n,P as a,_ as x,G as h,F as R,u as e,a0 as $,U as j,H as r,C as w,V as G,W as P,$ as c,X}from"./vue-BMJJ5Kg4.js";const Z={class:"title"},J={class:"dialog-footer"},oe=L({__name:"popupForm",setup(K){const o=O("baTable"),f=W(),_=k(),g=k([]),F=new H("/admin/content.HelpCategory/");(async()=>{var t;const i=await F.index({select:1,limit:999});i.code===1&&((t=i.data)!=null&&t.list)&&(g.value=i.data.list)})();const U={category_id:[{required:!0,message:"请选择问题分类",trigger:"change"}],title:[{required:!0,message:"请填写问题标题",trigger:"blur"}],content:[{required:!0,message:"请填写问题内容",trigger:"blur"}]};return(i,t)=>{const B=s("el-option"),D=s("el-select"),d=s("el-form-item"),z=s("el-input"),A=s("el-input-number"),N=s("el-form"),T=s("el-scrollbar"),b=s("el-button"),q=s("el-dialog"),E=p("drag"),I=p("zoom"),S=p("loading");return n(),m(q,{class:"ba-operate-dialog","close-on-click-modal":!1,"destroy-on-close":!0,"model-value":["Add","Edit"].includes(e(o).form.operate),onClose:e(o).toggleForm},{header:a(()=>[x((n(),w("div",Z,[c(X(e(o).form.operate==="Add"?"新增问题":e(o).form.operate==="Edit"?"编辑问题":""),1)])),[[E,[".ba-operate-dialog",".el-dialog__header"]],[I,".ba-operate-dialog"]])]),footer:a(()=>[h("div",J,[r(b,{onClick:e(o).toggleForm},{default:a(()=>t[6]||(t[6]=[c("取消")])),_:1},8,["onClick"]),r(b,{type:"primary",onClick:t[5]||(t[5]=u=>e(o).onSubmit(_.value))},{default:a(()=>t[7]||(t[7]=[c("确定")])),_:1})])]),default:a(()=>[x((n(),m(T,{class:"ba-table-form-scrollbar"},{default:a(()=>{var u,y,V,v;return[h("div",{class:$(["ba-operate-form","ba-"+e(o).form.operate+"-form"]),style:R((y=(u=e(f))==null?void 0:u.layout)!=null&&y.shrink?"":"width: calc(100% - "+(e(o).form.labelWidth||160)/2+"px)")},[e(o).form.loading?j("",!0):(n(),m(N,{key:0,ref_key:"formRef",ref:_,model:e(o).form.items,"label-position":(v=(V=e(f))==null?void 0:V.layout)!=null&&v.shrink?"top":"right","label-width":(e(o).form.labelWidth||160)+"px",rules:U},{default:a(()=>[r(d,{prop:"category_id",label:"问题分类"},{default:a(()=>[r(D,{modelValue:e(o).form.items.category_id,"onUpdate:modelValue":t[0]||(t[0]=l=>e(o).form.items.category_id=l),placeholder:"请选择问题分类",style:{width:"100%"}},{default:a(()=>[(n(!0),w(G,null,P(g.value,l=>(n(),m(B,{key:l.id,label:l.name+"（ID："+l.id+"，编码："+l.code+"）",value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),r(d,{prop:"title",label:"问题标题"},{default:a(()=>[r(z,{modelValue:e(o).form.items.title,"onUpdate:modelValue":t[1]||(t[1]=l=>e(o).form.items.title=l),type:"string",placeholder:"请输入问题标题"},null,8,["modelValue"])]),_:1}),r(C,{label:"问题内容",type:"editor",modelValue:e(o).form.items.content,"onUpdate:modelValue":t[2]||(t[2]=l=>e(o).form.items.content=l),prop:"content","input-attr":{height:"240px",fileForceLocal:!1}},null,8,["modelValue"]),r(d,{prop:"sort",label:"排序"},{default:a(()=>[r(A,{modelValue:e(o).form.items.sort,"onUpdate:modelValue":t[3]||(t[3]=l=>e(o).form.items.sort=l),min:0,max:999,"controls-position":"right",placeholder:"请输入排序值（越大越靠前）"},null,8,["modelValue"])]),_:1}),r(C,{label:"状态",modelValue:e(o).form.items.status,"onUpdate:modelValue":t[4]||(t[4]=l=>e(o).form.items.status=l),type:"radio",prop:"status","input-attr":{border:!0,content:{1:"启用",0:"禁用"}}},null,8,["modelValue"])]),_:1},8,["model","label-position","label-width"]))],6)]}),_:1})),[[S,e(o).form.loading]])]),_:1},8,["model-value","onClose"])}}});export{oe as _};
