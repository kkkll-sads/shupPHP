import{v as C,ar as w,_ as U}from"./index-BHof7fb5.js";import x from"./luckyDrawPrize-DDAhcWkL.js";import F from"./luckyDrawPrize-DndzyjE0.js";import{F as N}from"./index-BuGVnaur.js";import{B as M,am as j,b as E,a as I,w as q,I as m,O as B,D as A,P as i,H as o,u as e,G as b,X as s,$ as z}from"./vue-BMJJ5Kg4.js";import"./index-CY3WncDq.js";import"./baTable-C5P52-5P.js";import"./index-1f7Hqibh.js";const O={class:"title"},T={class:"form-tip"},R={class:"form-tip"},S={class:"form-tip"},G={class:"dialog-footer"},H=M({__name:"popupForm",setup(X){const{t:l,locale:D}=C.useI18n(),c=j("baTable");D.value==="zh-cn"?w(x,"content/luckyDrawPrize"):w(F,"content/luckyDrawPrize");const f=E(),t=I({id:"",name:"",description:"",thumbnail:"",prize_type:"score",prize_value:0,probability:0,daily_limit:0,total_limit:0,sort:0,status:"1"});q(()=>c.form.items,d=>{d&&typeof d=="object"&&Object.assign(t,d)},{deep:!0});const P=()=>{var d;(d=f.value)==null||d.resetFields(),c.toggleForm("")},V=()=>{var d;(d=f.value)==null||d.validate(r=>{if(r){const n=(p,y=0)=>{if(p==null||p==="")return y;const _=Number(p);return Number.isNaN(_)||_<0?y:Math.floor(_)},u={...t,prize_value:n(t.prize_value,0),probability:n(t.probability,0),daily_limit:n(t.daily_limit,0),total_limit:n(t.total_limit,0),sort:n(t.sort,0)};Object.assign(c.form.items,u),c.onSubmit(f.value)}})};return(d,r)=>{const n=m("el-input"),u=m("el-form-item"),p=m("el-option"),y=m("el-select"),_=m("el-radio"),v=m("el-radio-group"),g=m("el-form"),k=m("el-button"),h=m("el-dialog");return A(),B(h,{class:"ba-edit-dialog","close-on-click-modal":!1,"destroy-on-close":!0,"model-value":["Add","Edit"].includes(e(c).form.operate),onClose:P,width:"50%"},{header:i(()=>[b("div",O,s(e(c).form.operate==="Add"?e(l)("Add"):e(l)("Edit")),1)]),footer:i(()=>[b("span",G,[o(k,{onClick:P},{default:i(()=>[z(s(e(l)("Cancel")),1)]),_:1}),o(k,{type:"primary",onClick:V},{default:i(()=>[z(s(e(l)("Confirm")),1)]),_:1})])]),default:i(()=>[o(g,{model:t,"label-width":"120px",ref_key:"formRef",ref:f},{default:i(()=>[o(u,{label:e(l)("content.luckyDrawPrize.name"),prop:"name",rules:{required:!0,message:e(l)("Please input field",{field:e(l)("content.luckyDrawPrize.name")})}},{default:i(()=>[o(n,{modelValue:t.name,"onUpdate:modelValue":r[0]||(r[0]=a=>t.name=a),placeholder:e(l)("content.luckyDrawPrize.name")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),o(u,{label:e(l)("content.luckyDrawPrize.description"),prop:"description"},{default:i(()=>[o(n,{modelValue:t.description,"onUpdate:modelValue":r[1]||(r[1]=a=>t.description=a),placeholder:e(l)("content.luckyDrawPrize.description"),type:"textarea"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(N,{label:e(l)("content.luckyDrawPrize.thumbnail"),type:"image",modelValue:t.thumbnail,"onUpdate:modelValue":r[2]||(r[2]=a=>t.thumbnail=a),prop:"thumbnail","input-attr":{returnFullUrl:!0,limit:1}},null,8,["label","modelValue"]),o(u,{label:e(l)("content.luckyDrawPrize.prize_type"),prop:"prize_type",rules:{required:!0,message:e(l)("Please select field",{field:e(l)("content.luckyDrawPrize.prize_type")})}},{default:i(()=>[o(y,{modelValue:t.prize_type,"onUpdate:modelValue":r[3]||(r[3]=a=>t.prize_type=a),placeholder:e(l)("content.luckyDrawPrize.prize_type")},{default:i(()=>[o(p,{label:"积分",value:"score"}),o(p,{label:"金额",value:"money"}),o(p,{label:"优惠券",value:"coupon"}),o(p,{label:"实物",value:"item"})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),o(u,{label:e(l)("content.luckyDrawPrize.prize_value"),prop:"prize_value",rules:{required:!0,message:e(l)("Please input field",{field:e(l)("content.luckyDrawPrize.prize_value")})}},{default:i(()=>[o(n,{modelValue:t.prize_value,"onUpdate:modelValue":r[4]||(r[4]=a=>t.prize_value=a),modelModifiers:{number:!0},placeholder:e(l)("content.luckyDrawPrize.prize_value"),type:"number"},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),o(u,{label:e(l)("content.luckyDrawPrize.probability"),prop:"probability",rules:{required:!0,message:e(l)("Please input field",{field:e(l)("content.luckyDrawPrize.probability")})}},{default:i(()=>[o(n,{modelValue:t.probability,"onUpdate:modelValue":r[5]||(r[5]=a=>t.probability=a),modelModifiers:{number:!0},placeholder:e(l)("content.luckyDrawPrize.probability"),type:"number"},null,8,["modelValue","placeholder"]),b("div",T,s(e(l)("content.luckyDrawPrize.probability_tip")),1)]),_:1},8,["label","rules"]),o(u,{label:e(l)("content.luckyDrawPrize.daily_limit"),prop:"daily_limit"},{default:i(()=>[o(n,{modelValue:t.daily_limit,"onUpdate:modelValue":r[6]||(r[6]=a=>t.daily_limit=a),modelModifiers:{number:!0},placeholder:e(l)("content.luckyDrawPrize.daily_limit"),type:"number"},null,8,["modelValue","placeholder"]),b("div",R,s(e(l)("content.luckyDrawPrize.daily_limit_tip")),1)]),_:1},8,["label"]),o(u,{label:e(l)("content.luckyDrawPrize.total_limit"),prop:"total_limit"},{default:i(()=>[o(n,{modelValue:t.total_limit,"onUpdate:modelValue":r[7]||(r[7]=a=>t.total_limit=a),modelModifiers:{number:!0},placeholder:e(l)("content.luckyDrawPrize.total_limit"),type:"number"},null,8,["modelValue","placeholder"]),b("div",S,s(e(l)("content.luckyDrawPrize.total_limit_tip")),1)]),_:1},8,["label"]),o(u,{label:e(l)("content.luckyDrawPrize.sort"),prop:"sort"},{default:i(()=>[o(n,{modelValue:t.sort,"onUpdate:modelValue":r[8]||(r[8]=a=>t.sort=a),modelModifiers:{number:!0},placeholder:e(l)("content.luckyDrawPrize.sort"),type:"number"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(u,{label:e(l)("content.luckyDrawPrize.status"),prop:"status"},{default:i(()=>[o(v,{modelValue:t.status,"onUpdate:modelValue":r[9]||(r[9]=a=>t.status=a)},{default:i(()=>[o(_,{value:"1"},{default:i(()=>[z(s(e(l)("Enable")),1)]),_:1}),o(_,{value:"0"},{default:i(()=>[z(s(e(l)("Disable")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["model-value"])}}}),ee=U(H,[["__scopeId","data-v-1dde1bcb"]]);export{ee as default};
